import{d as e,c as a,o as l,a as t,r,b as s,E as o,e as d,f as u,g as n,w as i,h as c,v,t as m,u as p,i as y,j as f,k as g,l as h,m as b,n as w,p as _,q as x,s as k,x as C,y as V,z as T,A,F as N,B as R,C as B,D as S,G as O,H as U,I as L,J as M,K as P,L as D,M as K,N as $,O as E,P as z,Q as q,R as I,S as j,T as W,U as F,V as J,W as Y,X as H,Y as Z,Z as G,_ as Q,$ as X,a0 as ee,a1 as ae,a2 as le,a3 as te,a4 as re,a5 as se,a6 as oe,a7 as de,a8 as ue,a9 as ne,aa as ie,ab as ce,ac as ve,ad as me,ae as pe}from"./vendor-CZs6x4P2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const ye={id:"app"},fe=(e,a)=>{const l=e.__vccOpts||e;for(const[t,r]of a)l[t]=r;return l},ge=fe(e({__name:"App",setup:e=>(e,s)=>{const o=r("router-view");return l(),a("div",ye,[t(o)])}}),[["__scopeId","data-v-db71e853"]]),he=s.create({baseURL:"http://39.97.35.247:80",timeout:1e4,withCredentials:!0,headers:{"Content-Type":" application/json"}});he.interceptors.request.use(e=>{{const a=localStorage.getItem("token");a&&(e.headers.Authorization=`Bearer ${a}`)}return e},e=>Promise.reject(e)),he.interceptors.response.use(e=>e.data,e=>{var a;let l="请求失败，请稍后重试";if(e.response)switch(e.response.status){case 401:l="未授权，请重新登录",window.location.href="/login";break;case 403:l="权限不足，无法访问";break;case 404:l="请求的资源不存在";break;case 500:l="服务器内部错误";break;default:l=(null==(a=e.response.data)?void 0:a.message)||"请求失败"}else e.request&&(l="网络错误，请检查网络连接");return o.error(l),Promise.reject(e)});class be{static async login(e,a){return await he.post("/user/login",{username:e,password:a})}static async register(e){return await he.post("/user/register",e)}static async logout(){return await he.post("/user/logout")}static async test(e){return await he.get("/user/test",{params:{str:e}})}static async getCurrentUser(){return await he.get("/user/info")}static async updateUserInfo(e){return await he.put("/user/info",e)}static async changePassword(e,a){return await he.post("/user/change-password",{oldPassword:e,newPassword:a})}static async getUserList(){return await he.get("/user/list")}}const we={class:"login-container"},_e={class:"login-form"},xe={class:"form-group"},ke={class:"form-group"},Ce={key:0,class:"error-message"},Ve=fe(e({__name:"login",setup(e){const t=d(""),r=d(""),s=d(""),o=p(),y=async()=>{try{s.value="";const e=await be.login(t.value,r.value);200===e.code&&e.data?(localStorage.setItem("token",e.data),o.push("/index")):s.value=e.msg||"登录失败，请检查用户名和密码"}catch(e){s.value="网络错误，请稍后重试"}};return(e,o)=>(l(),a("div",we,[u("div",_e,[o[5]||(o[5]=u("h2",null,"会员管理 - BuildAdmin",-1)),u("form",{onSubmit:i(y,["prevent"])},[u("div",xe,[o[2]||(o[2]=u("label",{for:"username"},"用户名",-1)),c(u("input",{type:"text",id:"username","onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),placeholder:"请输入用户名",required:""},null,512),[[v,t.value]])]),u("div",ke,[o[3]||(o[3]=u("label",{for:"password"},"密码",-1)),c(u("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=e=>r.value=e),placeholder:"请输入密码",required:""},null,512),[[v,r.value]])]),o[4]||(o[4]=u("button",{type:"submit",class:"login-button"},"登录",-1))],32),s.value?(l(),a("p",Ce,m(s.value),1)):n("",!0)])]))}}),[["__scopeId","data-v-f744616b"]]);class Te{static async saveFieldMetadata(e){return await he.post("/dynamic-table/metadata",e)}static async getFieldMetadataByTableKey(e){return await he.get(`/dynamic-table/metadata/${e}`)}static async deleteFieldMetadata(e){return await he.delete(`/dynamic-table/metadata/${e}`)}static async saveRecord(e){return await he.post("/dynamic-table/record",e)}static async getRecordsByTableKey(e){return await he.get(`/dynamic-table/record/${e}`)}static async getRecordsByTableKeyOrderByCreateTime(e,a="DESC"){return await he.get(`/dynamic-table/record/${e}/sortByCreateTime`,{params:{orderBy:a}})}static async getRecordsByTableKeyWithPage(e,a=1,l=10){return await he.get(`/dynamic-table/record/${e}/page`,{params:{page:a,size:l}})}static async getRecordsByTableKeyWithPageOrderByName(e,a=1,l=10){return await he.get(`/dynamic-table/record/${e}/page/sortByName`,{params:{page:a,size:l}})}static async getRecordsByTableKeyWithPageOrderByCreateTime(e,a=1,l=10,t="DESC"){return await he.get(`/dynamic-table/record/${e}/page/sortByCreateTime`,{params:{page:a,size:l,orderBy:t}})}static async getRecordById(e){return await he.get(`/dynamic-table/record/detail/${e}`)}static async deleteRecord(e){return await he.delete(`/dynamic-table/record/${e}`)}static async deleteRecords(e){return await he.post("/dynamic-table/record/batch",e)}static async searchByKeyword(e,a){return await he.get(`/dynamic-table/search/${e}`,{params:{keyword:a}})}static async searchByFieldAndKeyword(e,a,l){return await he.get(`/dynamic-table/search/${e}/${a}`,{params:{keyword:l}})}static async uploadAvatar(e,a){return await he.post(`/dynamic-table/record/${e}/avatar`,{avatar:a})}}const Ae=y("dynamicTable",()=>{const e=d("customer"),a=d([]),l=d([]),t=d(null),r=d(null),s=d([]),o=d(!1),u=d(""),n=d(""),i=d(1),c=d(10),v=d(0),m=d(""),p=d("DESC"),y=f(()=>a.value&&a.value.length>0?[...a.value].sort((e,a)=>(e.sortOrder||999)-(a.sortOrder||999)):[]),b=f({get:()=>l.value.length>0&&s.value.length===l.value.length,set:e=>{s.value=e?l.value.map(e=>e.id||0).filter(Boolean):[]}}),w=a=>{e.value=a,_()},_=()=>{a.value=[],l.value=[],t.value=null,r.value=null,s.value=[],u.value="",n.value="",i.value=1,v.value=0,m.value="",p.value="DESC"},x=async l=>{const t=l||e.value;o.value=!0;try{const e=await Te.getFieldMetadataByTableKey(t);200===e.code&&e.data?a.value=e.data:a.value=[]}catch(r){a.value=[]}finally{o.value=!1}},k=async a=>{const t=a||e.value;o.value=!0;try{const e=await Te.getRecordsByTableKey(t);200===e.code&&e.data?(l.value=e.data,v.value=e.data.length):(l.value=[],v.value=0),A()}catch(r){}finally{o.value=!1}},C=async(a,r)=>{const s=a||i.value,d=r||c.value;i.value=s,o.value=!0;try{const a=await Te.getRecordsByTableKeyWithPage(e.value,s,d);200===a.code&&a.data&&(t.value=a.data,l.value=a.data.items||[],c.value=a.data.size||d,v.value=a.data.totalCount||l.value.length),u.value.trim()&&A()}catch(n){}finally{o.value=!1}},V=async(a,r)=>{const s=a||i.value,d=r||c.value;i.value=s,o.value=!0;try{const a=await Te.getRecordsByTableKeyWithPageOrderByName(e.value,s,d);200===a.code&&a.data&&(t.value=a.data,l.value=a.data.items||[],c.value=a.data.size||d,v.value=a.data.totalCount||l.value.length,m.value="name",p.value="ASC")}catch(u){}finally{o.value=!1}},T=async(a,r,s="DESC")=>{const d=a||i.value,u=r||c.value;i.value=d,o.value=!0;try{const a=await Te.getRecordsByTableKeyWithPageOrderByCreateTime(e.value,d,u,s);200===a.code&&a.data&&(t.value=a.data,l.value=a.data.items||[],c.value=a.data.size||u,v.value=a.data.totalCount||l.value.length,m.value="createTime",p.value=s)}catch(n){}finally{o.value=!1}},A=async()=>{if(i.value=1,u.value.trim()){o.value=!0;try{const a=u.value.trim(),t=n.value;if(t){const r=await Te.searchByFieldAndKeyword(e.value,t,a);200===r.code&&r.data&&(l.value=r.data,v.value=r.data.length)}else{const t=await Te.searchByKeyword(e.value,a);200===t.code&&t.data&&(l.value=t.data,v.value=t.data.length)}const r=0,s=c.value;l.value=l.value.slice(r,s)}catch(a){}finally{o.value=!1}}else await C(1,10)},N=e=>{const l={};return a.value.forEach(e=>{l[e.fieldName]=e.fieldLabel}),e.map(e=>{const a={};return e.id&&(a.ID=e.id),e.data&&Object.entries(e.data).forEach(([e,t])=>{const r=l[e]||e;a[r]=null==t?"":"object"==typeof t?JSON.stringify(t):t}),a})};return{currentTableKey:e,metadataList:a,sortedMetadata:y,records:l,pagedRecords:t,currentRecord:r,selectedIds:s,isAllSelected:b,isLoading:o,searchKeyword:u,searchField:n,currentPage:i,pageSize:c,totalRecords:v,sortField:m,sortOrder:p,setCurrentTableKey:w,resetState:_,loadMetadata:x,saveMetadata:async e=>{o.value=!0;try{const a=await Te.saveFieldMetadata(e);return!(200!==a.code||!a.data)&&(await x(),!0)}catch(a){}finally{o.value=!1}return!1},deleteMetadata:async e=>{o.value=!0;try{const a=await Te.deleteFieldMetadata(e);return!(200!==a.code||!a.data)&&(await x(),!0)}catch(a){}finally{o.value=!1}return!1},uploadAvatar:async(e,a)=>{o.value=!0;try{const l=await Te.uploadAvatar(e,a);return!(200!==l.code||!l.data)&&(await k(),!0)}catch(l){return!1}finally{o.value=!1}},loadRecords:k,loadRecordsOrderByCreateTime:async(a,t="DESC")=>{const r=a||e.value;o.value=!0;try{const e=await Te.getRecordsByTableKeyOrderByCreateTime(r,t);200===e.code&&e.data?(l.value=e.data,v.value=e.data.length,m.value="createTime",p.value=t):(l.value=[],v.value=0),A()}catch(s){}finally{o.value=!1}},loadRecordsWithPage:C,loadRecordsWithPageOrderByName:V,loadRecordsWithPageOrderByCreateTime:T,setCurrentRecord:e=>{r.value=e?{...e,data:{...e.data}}:null},saveRecord:async a=>{o.value=!0;try{if(!a.id){const l=await Te.searchByFieldAndKeyword(e.value,"name",a.data.name);if(200===l.code&&l.data&&l.data.length>0)return{success:!1,reason:"nameDuplicate"};const t=await Te.searchByFieldAndKeyword(e.value,"phone",a.data.phone);if(200===t.code&&t.data&&t.data.length>0)return{success:!1,reason:"phoneDuplicate"}}const l=await Te.saveRecord(a);if(200===l.code&&l.data){const e=10;return c.value=e,"name"===m.value?await V(1,e):"createTime"===m.value?await T(1,e,p.value):await C(1,e),{success:!0}}return{success:!1,reason:"saveFailed",message:l.msg}}catch(l){return{success:!1,reason:"systemError",message:l instanceof Error?l.message:"系统错误"}}finally{o.value=!1}},deleteRecord:async e=>{o.value=!0;try{const a=await Te.deleteRecord(e);return!(200!==a.code||!a.data)&&("name"===m.value?await V(i.value,10):"createTime"===m.value?await T(i.value,10,p.value):await C(i.value,10),!0)}catch(a){}finally{o.value=!1}return!1},deleteSelectedRecords:async()=>{if(0===s.value.length)return!1;o.value=!0;try{const e=await Te.deleteRecords(s.value);return!(200!==e.code||!e.data)&&("name"===m.value?await V(i.value,10):"createTime"===m.value?await T(i.value,10,p.value):await C(i.value,10),s.value=[],!0)}catch(e){}finally{o.value=!1}return!1},toggleSelect:e=>{const a=s.value.indexOf(e);a>-1?s.value.splice(a,1):s.value.push(e)},setSearchParams:(e,a="")=>{u.value=e,n.value=a,i.value=1,A()},applySearch:A,initTable:async e=>{w(e),await Promise.all([x(),C(1,10)])},exportCurrentPageData:async()=>{o.value=!0;try{const t=N(l.value),r=g.json_to_sheet(t),s=g.book_new();g.book_append_sheet(s,r,e.value);const o=g.json_to_sheet(a.value.map(e=>({"字段名称":e.fieldName,"字段标签":e.fieldLabel,"字段类型":e.fieldType,"是否必填":e.required?"是":"否","默认值":e.defaultValue||"-","最大长度":e.maxLength||"-","排序":e.sortOrder||999})));return g.book_append_sheet(s,o,"表结构信息"),h(s,`${e.value}_数据_${(new Date).toLocaleDateString("zh-CN").replace(/\//g,"-")}.xlsx`),!0}catch(t){return!1}finally{o.value=!1}},exportAllData:async()=>{o.value=!0;try{let l=[];if(u.value.trim()){const a=n.value?await Te.searchByFieldAndKeyword(e.value,n.value,u.value):await Te.searchByKeyword(e.value,u.value);200===a.code&&a.data&&(l=a.data)}else if("name"===m.value){const a=await Te.getRecordsByTableKey(e.value);200===a.code&&a.data&&(l=a.data.sort((e,a)=>{var l,t,r,s;const o=(null==(t=null==(l=e.data)?void 0:l.name)?void 0:t.charAt(0).toUpperCase())||"",d=(null==(s=null==(r=a.data)?void 0:r.name)?void 0:s.charAt(0).toUpperCase())||"";return o.localeCompare(d)}))}else if("createTime"===m.value){const a=await Te.getRecordsByTableKeyOrderByCreateTime(e.value,p.value);200===a.code&&a.data&&(l=a.data)}else{let a=1;const t=100;let r=!0;for(;r;){const s=await Te.getRecordsByTableKeyWithPage(e.value,a,t);if(200===s.code&&s.data&&s.data.items){const e=s.data.items;l=[...l,...e],r=e.length===t,a++}else r=!1}}const t=N(l),r=g.json_to_sheet(t),s=g.book_new();g.book_append_sheet(s,r,e.value);const o=g.json_to_sheet(a.value.map(e=>({"字段名称":e.fieldName,"字段标签":e.fieldLabel,"字段类型":e.fieldType,"是否必填":e.required?"是":"否","默认值":e.defaultValue||"-","最大长度":e.maxLength||"-","排序":e.sortOrder||999})));return g.book_append_sheet(s,o,"表结构信息"),h(s,`${e.value}_全量数据_${(new Date).toLocaleDateString("zh-CN").replace(/\//g,"-")}.xlsx`),!0}catch(l){return!1}finally{o.value=!1}},exportSelectedData:async()=>{if(0===s.value.length)return!1;o.value=!0;try{const a=l.value.filter(e=>e.id&&s.value.includes(e.id)),t=N(a),r=g.json_to_sheet(t),o=g.book_new();return g.book_append_sheet(o,r,e.value),h(o,`${e.value}_选中数据_${(new Date).toLocaleDateString("zh-CN").replace(/\//g,"-")}.xlsx`),!0}catch(a){return!1}finally{o.value=!1}}}}),Ne={class:"search-panel py-6 border-b"},Re={class:"sort-container",style:{display:"flex","align-items":"center","margin-bottom":"10px"}},Be={class:"table-wrapper py-4"},Se={key:0,class:"table-avatar"},Oe=["src"],Ue={class:"action-buttons"},Le={key:0,class:"pagination"},Me={class:"pagination-info"},Pe={class:"avatar-upload-container"},De={key:0,class:"avatar-preview"},Ke=["src"],$e={key:0},Ee={key:1},ze={key:2},qe={key:3},Ie={key:4},je={key:5},We={key:6},Fe={class:"dialog-footer"},Je={class:"text-center py-4"},Ye={class:"dialog-footer"},He={class:"text-center py-4"},Ze={class:"dialog-footer"},Ge=fe(e({__name:"DynamicTable",setup(e){const r=Ae(),s=f(()=>r.records),o=f(()=>r.sortedMetadata),v=f(()=>r.isLoading),p=f(()=>r.selectedIds),y=f(()=>r.currentPage),g=f(()=>r.pageSize),h=f(()=>r.totalRecords),se=d(!1),oe=d(!1),de=d(!1),ue=d(!1),ne=d(null),ie=d(""),ce=d(""),ve=d(""),me=d(!1),pe=d(!1),ye=f({get:()=>se.value||oe.value,set:e=>{e||(se.value=!1,oe.value=!1)}}),fe=b({});f({get:()=>r.isAllSelected,set:e=>{r.isAllSelected=e}});const ge=async()=>{await r.exportCurrentPageData()||alert("导出当前页数据失败，请重试")},he=async()=>{if(h.value>100&&!confirm(`确定要导出全部 ${h.value} 条数据吗？这可能需要一些时间。`))return;await r.exportAllData()||alert("导出所有数据失败，请重试")},be=async()=>{await r.exportSelectedData()||alert("导出选中数据失败，请重试")},we=f(()=>Math.ceil(r.totalRecords/r.pageSize)),_e=e=>{try{return e.startsWith("[")?JSON.parse(e):JSON.parse(`[${e}]`)}catch{return[]}},xe=()=>{me.value=!0,r.setSearchParams(ie.value,ce.value)},ke=()=>{ie.value="",ce.value="",me.value=!1,r.setSearchParams("","")},Ce=e=>{e<1||e>we.value||("name"===ve.value?r.loadRecordsWithPageOrderByName(e,g.value):"createTime"===ve.value?r.loadRecordsWithPageOrderByCreateTime(e,g.value,"DESC"):r.loadRecordsWithPageOrderByCreateTime(e,g.value,"ASC"))},Ve=async()=>{"name"===ve.value?await r.loadRecordsWithPageOrderByName(y.value,g.value):"createTime"===ve.value?await r.loadRecordsWithPageOrderByCreateTime(y.value,g.value,"DESC"):await r.loadRecordsWithPageOrderByCreateTime(y.value,g.value,"ASC")},Te=async e=>{try{const a=e.raw;if(!a.type.startsWith("image/"))return void alert("请上传图片文件");if(!(a.size/1024/1024<2))return void alert("上传头像图片大小不能超过 2MB!");const l=new FileReader;l.readAsDataURL(a),l.onload=async()=>{var e;const a=l.result;if(null==(e=r.currentRecord)?void 0:e.id){await r.uploadAvatar(r.currentRecord.id.toString(),a)?fe.avatar=a:alert("头像更新失败，请重试")}else fe.avatar=a},l.onerror=()=>{alert("图片读取失败，请重试")}}catch(a){alert("处理头像失败，请重试")}},Ge=()=>{ue.value=!0},Qe=()=>{se.value=!1,oe.value=!1,pe.value=!1,aa()},Xe=()=>{de.value=!1,ne.value=null},ea=()=>{ue.value=!1},aa=()=>{Object.keys(fe).forEach(e=>{delete fe[e]}),pe.value||(r.sortedMetadata.forEach(e=>{e.defaultValue&&(fe[e.fieldName]=e.defaultValue)}),fe.avatar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==")},la=async()=>{var e;const a={...fe},l={tableKey:r.currentTableKey,data:a};(null==(e=r.currentRecord)?void 0:e.id)&&(l.id=r.currentRecord.id);const t=await r.saveRecord(l);t.success?Qe():"nameDuplicate"===t.reason?alert("名称已存在"):"phoneDuplicate"===t.reason?alert("手机号已存在"):alert(t.message||"保存失败，请重试")},ta=async()=>{var e;if(null==(e=ne.value)?void 0:e.id){await r.deleteRecord(ne.value.id)?Xe():alert("删除失败，请重试")}},ra=async()=>{await r.deleteSelectedRecords()?ea():alert("删除失败，请重试")},sa=e=>{const a=e.map(e=>e.id||0).filter(e=>0!==e);r.selectedIds=a};return w(()=>{r.initTable("customer")}),(e,d)=>{const f=T,b=V,w=C,me=B,Ae=L,oa=k,da=M,ua=q,na=z,ia=K,ca=j,va=I,ma=F,pa=Z,ya=H,fa=Q,ga=X,ha=ee,ba=le,wa=ae,_a=Y,xa=J,ka=te,Ca=re,Va=W;return l(),_(Ca,{class:"dynamic-table-container",shadow:"hover","body-style":{padding:"0 20px 20px"}},{default:x(()=>[u("div",Ne,[t(oa,{gutter:10,type:"flex",align:"middle"},{default:x(()=>[t(w,{lg:16,xs:24},{default:x(()=>[t(oa,{gutter:10,type:"flex",align:"middle"},{default:x(()=>[t(w,{xs:24,sm:8},{default:x(()=>[t(b,{modelValue:ce.value,"onUpdate:modelValue":d[0]||(d[0]=e=>ce.value=e),placeholder:"所有字段",class:"search-field w-full"},{default:x(()=>[t(f,{value:""},{default:x(()=>[...d[7]||(d[7]=[A("所有字段",-1)])]),_:1}),(l(!0),a(N,null,R(o.value,e=>(l(),_(f,{key:e.fieldName,value:e.fieldName},{default:x(()=>[A(m(e.fieldLabel),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(w,{xs:24,sm:16},{default:x(()=>[t(me,{modelValue:ie.value,"onUpdate:modelValue":d[1]||(d[1]=e=>ie.value=e),placeholder:"请输入搜索关键词",class:"search-input",onKeyup:U(xe,["enter"]),"suffix-icon":S(O),style:{"margin-bottom":"8px"}},null,8,["modelValue","suffix-icon"])]),_:1}),t(w,{xs:12,sm:6},{default:x(()=>[t(Ae,{type:"primary",onClick:xe,class:"w-full search-button"},{default:x(()=>[...d[8]||(d[8]=[A(" 搜索 ",-1)])]),_:1})]),_:1}),ie.value?(l(),_(w,{key:0,xs:12,sm:6},{default:x(()=>[t(Ae,{onClick:ke,class:"w-full"},{default:x(()=>[...d[9]||(d[9]=[A(" 重置 ",-1)])]),_:1})]),_:1})):n("",!0)]),_:1})]),_:1}),t(w,{lg:8,xs:24,class:"mt-2 lg:mt-0"},{default:x(()=>[u("div",Re,[t(b,{modelValue:ve.value,"onUpdate:modelValue":d[2]||(d[2]=e=>ve.value=e),placeholder:"选择排序方式",style:{width:"180px","margin-right":"10px"}},{default:x(()=>[t(f,{value:"",label:"默认（创建时间升序）"}),t(f,{value:"name",label:"姓名首字母A-Z"}),t(f,{value:"createTime",label:"创建时间降序"})]),_:1},8,["modelValue"]),t(Ae,{onClick:Ve,size:"small"},{default:x(()=>[...d[10]||(d[10]=[A("应用排序",-1)])]),_:1})]),t(Ae,{type:"success",onClick:d[3]||(d[3]=e=>(aa(),pe.value=!1,void(se.value=!0))),class:"w-full lg:w-auto lg:float-right mb-2 lg:mb-0 lg:mr-2"},{default:x(()=>[t(da,null,{default:x(()=>[t(S(P))]),_:1}),d[11]||(d[11]=A(" 新增记录 ",-1))]),_:1}),t(Ae,{type:"danger",onClick:Ge,disabled:0===p.value.length,class:"w-full lg:w-auto lg:float-right mb-2 lg:mb-0 lg:mr-2"},{default:x(()=>[t(da,null,{default:x(()=>[t(S(D))]),_:1}),A(" 批量删除 ("+m(p.value.length)+") ",1)]),_:1},8,["disabled"]),t(ia,{class:"w-full lg:w-auto lg:float-right"},{dropdown:x(()=>[t(na,null,{default:x(()=>[t(ua,{onClick:ge},{default:x(()=>[...d[13]||(d[13]=[A(" 导出当前页 ",-1)])]),_:1}),t(ua,{onClick:he},{default:x(()=>[...d[14]||(d[14]=[A(" 导出所有数据 ",-1)])]),_:1}),p.value.length>0?(l(),_(ua,{key:0,onClick:be},{default:x(()=>[A(" 导出选中数据 ("+m(p.value.length)+") ",1)]),_:1})):n("",!0)]),_:1})]),default:x(()=>[t(Ae,{type:"primary",class:"w-full"},{default:x(()=>[t(da,null,{default:x(()=>[t(S($))]),_:1}),d[12]||(d[12]=A(" 导出 ",-1)),t(da,{class:"el-icon--right"},{default:x(()=>[t(S(E))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),u("div",Be,[v.value?n("",!0):c((l(),_(va,{key:0,data:s.value,style:{width:"100%"},border:"","element-loading-text":"加载中...","header-cell-style":{"white-space":"nowrap"},onSelectionChange:sa},{default:x(()=>[t(ca,{type:"selection",width:"55"}),t(ca,{label:"头像*",width:"100","header-align":"center",align:"center"},{default:x(e=>[e.row.data.avatar?(l(),a("div",Se,[u("img",{src:e.row.data.avatar,alt:"头像",class:"avatar-image"},null,8,Oe)])):n("",!0)]),_:1}),t(ca,{prop:"data.name",label:"姓名*","show-overflow-tooltip":!0,"header-align":"left"}),t(ca,{prop:"data.phone",label:"电话*","show-overflow-tooltip":!0,"header-align":"left"}),t(ca,{label:"操作",width:"120",fixed:"right"},{default:x(e=>[u("div",Ue,[t(Ae,{type:"success",size:"small",onClick:a=>{return l=e.row,r.setCurrentRecord(l),aa(),l.data&&Object.entries(l.data).forEach(([e,a])=>{null!=a&&""!==a&&(fe[e]=a)}),pe.value=!0,void(oe.value=!0);var l}},{default:x(()=>[...d[15]||(d[15]=[A(" 查看 ",-1)])]),_:1},8,["onClick"]),t(Ae,{type:"primary",size:"small",onClick:a=>{return l=e.row,r.setCurrentRecord(l),aa(),l.data&&Object.assign(fe,{...l.data}),void(oe.value=!0);var l}},{default:x(()=>[...d[16]||(d[16]=[A(" 编辑 ",-1)])]),_:1},8,["onClick"]),t(Ae,{type:"danger",size:"small",onClick:a=>{return l=e.row,ne.value=l,void(de.value=!0);var l}},{default:x(()=>[...d[17]||(d[17]=[A(" 删除 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])),[[Va,v.value]])]),!v.value&&h.value>0?(l(),a("div",Le,[t(oa,{type:"flex",justify:"space-between",align:"middle"},{default:x(()=>[t(w,{xs:24,sm:12,class:"text-center sm:text-left"},{default:x(()=>[u("span",Me," 共 "+m(h.value)+" 条记录，当前第 "+m(y.value)+" / "+m(we.value)+" 页 ",1)]),_:1}),t(w,{xs:24,sm:12,class:"mt-2 sm:mt-0"},{default:x(()=>[t(ma,{background:"",layout:"prev, pager, next",total:h.value,"page-size":g.value,"current-page":y.value,onCurrentChange:Ce,style:{float:"right"}},null,8,["total","page-size","current-page"])]),_:1})]),_:1})])):n("",!0),t(xa,{modelValue:ye.value,"onUpdate:modelValue":d[4]||(d[4]=e=>ye.value=e),title:pe.value?"查看记录":oe.value?"编辑记录":"新增记录",width:"70%","destroy-on-close":"","before-close":Qe},{footer:x(()=>[u("span",Fe,[t(Ae,{onClick:Qe},{default:x(()=>[...d[20]||(d[20]=[A("取消",-1)])]),_:1}),pe.value?n("",!0):(l(),_(Ae,{key:0,type:"primary",onClick:la},{default:x(()=>[...d[21]||(d[21]=[A("确定",-1)])]),_:1}))])]),default:x(()=>[t(_a,{onSubmit:i(la,["prevent"]),model:fe,"label-width":"120px",size:"default",disabled:pe.value},{default:x(()=>[t(ya,{label:"头像*",class:"mb-4",rules:pe.value?[]:[{required:!0,message:"请上传头像",trigger:"blur"}]},{default:x(()=>[u("div",Pe,[fe.avatar?(l(),a("div",De,[u("img",{src:fe.avatar,alt:"头像预览",class:"avatar-image"},null,8,Ke)])):n("",!0),pe.value?n("",!0):(l(),_(pa,{key:1,action:"","show-file-list":!1,"on-change":Te,"auto-upload":!1,accept:"image/*"},{default:x(()=>[fe.avatar?(l(),_(Ae,{key:1,type:"warning"},{default:x(()=>[...d[19]||(d[19]=[A(" 更换头像 ",-1)])]),_:1})):(l(),_(Ae,{key:0,type:"primary",icon:"Upload"},{default:x(()=>[...d[18]||(d[18]=[A(" 上传头像 ",-1)])]),_:1}))]),_:1}))])]),_:1},8,["rules"]),(l(!0),a(N,null,R(o.value,e=>(l(),a(N,{key:e.fieldName},["avatar"!==e.fieldName?(l(),_(ya,{key:0,label:`${e.fieldLabel}${e.required?"*":""}`,prop:e.fieldName,rules:!pe.value&&e.required?[{required:!0,message:`请输入${e.fieldLabel}`,trigger:"blur"}]:[],class:"mb-4"},{default:x(()=>["text"===e.fieldType?(l(),a("div",$e,[t(S(G),{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a,"fetch-suggestions":(a,l)=>((e,a,l)=>{const t=s.value.map(a=>{var l;return(null==(l=a.data)?void 0:l[e])||""}).filter(e=>"string"==typeof e&&""!==e.trim()),r=Array.from(new Set(t.filter(e=>e.toLowerCase().includes(a.toLowerCase())))).map(e=>({value:e}));setTimeout(()=>{l(r)},100)})(e.fieldName,a,l),placeholder:pe.value&&!fe[e.fieldName]?"":e.placeholder||`请输入${e.fieldLabel}`,maxlength:e.maxLength||200,"show-word-limit":"",onSelect:a=>fe[e.fieldName]=a.value,clearable:""},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions","placeholder","maxlength","onSelect"])])):"number"===e.fieldType?(l(),a("div",Ee,[t(fa,{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a,modelModifiers:{number:!0},placeholder:pe.value&&!fe[e.fieldName]?"":e.placeholder||`请输入${e.fieldLabel}`,min:e.min||0,max:e.max||99999999,precision:e.decimalPlaces||0},null,8,["modelValue","onUpdate:modelValue","placeholder","min","max","precision"])])):"date"===e.fieldType?(l(),a("div",ze,[t(ga,{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a,type:"date",placeholder:pe.value&&!fe[e.fieldName]?"":"选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):"textarea"===e.fieldType?(l(),a("div",qe,[t(me,{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a,type:"textarea",placeholder:pe.value&&!fe[e.fieldName]?"":e.placeholder||`请输入${e.fieldLabel}`,rows:4,maxlength:e.maxLength||1e3,"show-word-limit":""},null,8,["modelValue","onUpdate:modelValue","placeholder","maxlength"])])):"select"===e.fieldType&&e.options?(l(),a("div",Ie,[t(b,{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a,placeholder:pe.value&&!fe[e.fieldName]?"":"请选择",clearable:""},{default:x(()=>[(l(!0),a(N,null,R(_e(e.options),e=>(l(),_(f,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])])):"checkbox"===e.fieldType?(l(),a("div",je,[t(ha,{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a},{default:x(()=>[A(m(e.placeholder||e.fieldLabel),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])])):"radio"===e.fieldType&&e.options?(l(),a("div",We,[t(wa,{modelValue:fe[e.fieldName],"onUpdate:modelValue":a=>fe[e.fieldName]=a},{default:x(()=>[(l(!0),a(N,null,R(_e(e.options),e=>(l(),_(ba,{key:e.value,label:e.value},{default:x(()=>[A(m(e.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])):n("",!0)]),_:2},1032,["label","prop","rules"])):n("",!0)],64))),128))]),_:1},8,["model","disabled"])]),_:1},8,["modelValue","title"]),t(xa,{modelValue:de.value,"onUpdate:modelValue":d[5]||(d[5]=e=>de.value=e),title:"确认删除",width:"500px","before-close":Xe,"destroy-on-close":""},{footer:x(()=>[u("span",Ye,[t(Ae,{onClick:Xe},{default:x(()=>[...d[23]||(d[23]=[A("取消",-1)])]),_:1}),t(Ae,{type:"danger",onClick:ta},{default:x(()=>[...d[24]||(d[24]=[A("确认删除",-1)])]),_:1})])]),default:x(()=>[u("div",Je,[t(ka,{title:"警告",type:"warning",closable:!1,class:"mb-4"},{default:x(()=>[...d[22]||(d[22]=[u("p",null,"确定要删除这条记录吗？",-1),u("p",{class:"text-danger"},"删除后数据将无法恢复！",-1)])]),_:1})])]),_:1},8,["modelValue"]),t(xa,{modelValue:ue.value,"onUpdate:modelValue":d[6]||(d[6]=e=>ue.value=e),title:"批量删除",width:"500px","before-close":ea,"destroy-on-close":""},{footer:x(()=>[u("span",Ze,[t(Ae,{onClick:ea},{default:x(()=>[...d[26]||(d[26]=[A("取消",-1)])]),_:1}),t(Ae,{type:"danger",onClick:ra},{default:x(()=>[...d[27]||(d[27]=[A("确认删除",-1)])]),_:1})])]),default:x(()=>[u("div",He,[t(ka,{title:"警告",type:"warning",closable:!1,class:"mb-4"},{default:x(()=>[u("p",null,"确定要删除选中的 "+m(p.value.length)+" 条记录吗？",1),d[25]||(d[25]=u("p",{class:"text-danger"},"删除后数据将无法恢复！",-1))]),_:1})])]),_:1},8,["modelValue"])]),_:1})}}}),[["__scopeId","data-v-0a6fdfe2"]]),Qe={class:"dynamic-table-manager"},Xe={class:"header"},ea={key:0,class:"metadata-list"},aa={key:0,class:"empty-state"},la=["title"],ta={class:"metadata-info"},ra={class:"field-label"},sa={class:"field-detail"},oa={class:"field-name"},da={class:"field-type"},ua={key:0,class:"required-tag"},na={class:"metadata-actions"},ia=["onClick"],ca=["onClick"],va=["onMousedown"],ma={key:1,class:"loading"},pa={class:"modal-content"},ya={class:"modal-header"},fa={class:"modal-body"},ga={class:"form-group"},ha={class:"form-group"},ba={class:"form-group"},wa={key:0,class:"form-group"},_a={class:"form-group"},xa={class:"form-group"},ka={class:"form-group check-box"},Ca={class:"form-group"},Va={class:"modal-content"},Ta={class:"modal-body"},Aa=fe(e({__name:"DynamicTableManager",setup(e){const t=Ae(),r=d(!1),s=d(!1),o=d(!1),p=d(null),y=d(!1),g=d(null),h=d(!1),w=f(()=>{const e={};return t.sortedMetadata.forEach(a=>{if(a.sortOrder){const l=a.sortOrder;e[l]=(e[l]||0)+1}}),Object.keys(e).map(Number).filter(a=>e[a]>1)}),_=b({fieldLabel:"",fieldName:"",fieldType:"text",placeholder:"",required:!1,regex:"",options:"",sortOrder:999,defaultValue:""}),x=()=>{r.value=!1,s.value=!1,C()},k=()=>{o.value=!1,p.value=null},C=()=>{_.fieldLabel="",_.fieldName="",_.fieldType="text",_.placeholder="",_.required=!1,_.regex="",_.options="",_.sortOrder=999,_.defaultValue="",delete _.id},V=async()=>{if(_.options&&("select"===_.fieldType||"checkbox"===_.fieldType||"radio"===_.fieldType))try{JSON.parse(`[${_.options}]`)}catch(e){return void alert("选项配置格式错误，请输入有效的JSON数组格式")}_.tableKey="customer";await t.saveMetadata(_)?x():alert("保存失败，请重试")},T=async()=>{var e;if(null==(e=p.value)?void 0:e.id){await t.deleteMetadata(p.value.id)?k():alert("删除失败，请重试")}};return t.loadMetadata(),(e,d)=>{var f;return l(),a("div",Qe,[u("div",Xe,[d[10]||(d[10]=u("h2",null,"表头管理",-1)),u("button",{class:"btn-add",onClick:d[0]||(d[0]=e=>r.value=!0)},[...d[9]||(d[9]=[u("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M8 2V14M2 8H14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1),A(" 新增字段 ",-1)])])]),h.value?n("",!0):(l(),a("div",ea,[0===S(t).sortedMetadata.length?(l(),a("div",aa,' 暂无字段，请点击"新增字段"添加 ')):n("",!0),(l(!0),a(N,null,R(S(t).sortedMetadata,e=>{return l(),a("div",{class:ue(["metadata-item",{"duplicate-sort":void 0!==e.sortOrder&&w.value.includes(e.sortOrder)}]),key:e.id,title:void 0!==e.sortOrder&&w.value.includes(e.sortOrder)?"显示顺序冲突，请修改":""},[u("div",ta,[u("div",ra,m(e.fieldLabel),1),u("div",sa,[u("span",oa,m(e.fieldName),1),u("span",da,m((r=e.fieldType,{text:"文本",number:"数字",select:"下拉选择",date:"日期",textarea:"多行文本",checkbox:"复选框",radio:"单选框"}[r]||r)),1),e.required?(l(),a("span",ua,"必填")):n("",!0)])]),u("div",na,[u("button",{class:"btn-edit",onClick:a=>{return l=e,Object.assign(_,{...l}),void(s.value=!0);var l}}," 编辑 ",8,ia),u("button",{class:"btn-delete",onClick:a=>{return l=e,p.value=l,void(o.value=!0);var l}}," 删除 ",8,ca),u("div",{class:"sort-handle",onMousedown:a=>((e,a)=>{y.value=!0,g.value=a,e.preventDefault();const l=e=>{y.value},r=e=>{if(!y.value||!g.value)return;y.value=!1;const a=document.elementFromPoint(e.clientX,e.clientY),s=null==a?void 0:a.closest(".metadata-item");if(s){const e=Array.from(document.querySelectorAll(".metadata-item")).indexOf(s);if(-1!==e){const a=[...t.sortedMetadata],l=a.findIndex(e=>{var a;return e.id===(null==(a=g.value)?void 0:a.id)});if(-1!==l){const[r]=a.splice(l,1);a.splice(e,0,r),a.forEach((e,a)=>{e.sortOrder=a+1}),a.forEach(async e=>{await t.saveMetadata(e)})}}}document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",r)})(a,e)},[...d[11]||(d[11]=[u("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M4 6V8M12 6V8M4 10V12M12 10V12M4 2V4M12 2V4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])],40,va)])],10,la);var r}),128))])),h.value?(l(),a("div",ma," 加载中... ")):n("",!0),r.value||s.value?(l(),a("div",{key:2,class:"modal",onClick:i(x,["self"])},[u("div",pa,[u("div",ya,[u("h3",null,m(s.value?"编辑字段":"新增字段"),1),u("button",{class:"modal-close",onClick:x},"×")]),u("div",fa,[u("form",{onSubmit:i(V,["prevent"])},[u("div",ga,[d[12]||(d[12]=u("label",null,"字段标签 *",-1)),c(u("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=e=>_.fieldLabel=e),required:"",placeholder:"例如：姓名"},null,512),[[v,_.fieldLabel]])]),u("div",ha,[d[13]||(d[13]=u("label",null,"字段名 *",-1)),c(u("input",{type:"text","onUpdate:modelValue":d[2]||(d[2]=e=>_.fieldName=e),required:"",placeholder:"例如：name",pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$",title:"字段名只能包含字母、数字和下划线，且不能以数字开头"},null,512),[[v,_.fieldName]]),d[14]||(d[14]=u("small",null,"本字段的英文名，只能包含字母、数字和下划线，且不能以数字开头",-1))]),u("div",ba,[d[16]||(d[16]=u("label",null,"字段类型 *",-1)),c(u("select",{"onUpdate:modelValue":d[3]||(d[3]=e=>_.fieldType=e),required:""},[...d[15]||(d[15]=[oe('<option value="text" data-v-c28c4202>文本</option><option value="number" data-v-c28c4202>数字</option><option value="select" data-v-c28c4202>下拉选择</option><option value="date" data-v-c28c4202>日期</option><option value="textarea" data-v-c28c4202>多行文本</option><option value="checkbox" data-v-c28c4202>复选框</option><option value="radio" data-v-c28c4202>单选框</option>',7)])],512),[[se,_.fieldType]])]),"select"===_.fieldType||"checkbox"===_.fieldType||"radio"===_.fieldType?(l(),a("div",wa,[d[17]||(d[17]=u("label",null,"选项配置",-1)),c(u("textarea",{"onUpdate:modelValue":d[4]||(d[4]=e=>_.options=e),placeholder:"格式示例: {label: '选项1', value: '1'}",rows:"3"},null,512),[[v,_.options]]),d[18]||(d[18]=u("small",null,"JSON数组格式，每个对象包含label和value字段",-1))])):n("",!0),u("div",_a,[d[19]||(d[19]=u("label",null,"占位提示",-1)),c(u("input",{type:"text","onUpdate:modelValue":d[5]||(d[5]=e=>_.placeholder=e),placeholder:"输入提示文本"},null,512),[[v,_.placeholder]])]),u("div",xa,[d[20]||(d[20]=u("label",null,"默认值",-1)),c(u("input",{type:"text","onUpdate:modelValue":d[6]||(d[6]=e=>_.defaultValue=e),placeholder:"设置默认值"},null,512),[[v,_.defaultValue]])]),u("div",ka,[d[21]||(d[21]=u("label",null,"必填字段",-1)),c(u("input",{type:"checkbox","onUpdate:modelValue":d[7]||(d[7]=e=>_.required=e)},null,512),[[de,_.required]])]),u("div",Ca,[d[22]||(d[22]=u("label",null,"显示顺序",-1)),c(u("input",{type:"number","onUpdate:modelValue":d[8]||(d[8]=e=>_.sortOrder=e),min:"1",placeholder:"数字越小越靠前"},null,512),[[v,_.sortOrder]])]),u("div",{class:"form-actions"},[u("button",{type:"button",class:"btn-cancel",onClick:x},"取消"),d[23]||(d[23]=u("button",{type:"submit",class:"btn-submit"},"保存",-1))])],32)])])])):n("",!0),o.value?(l(),a("div",{key:3,class:"modal",onClick:i(k,["self"])},[u("div",Va,[u("div",{class:"modal-header"},[d[24]||(d[24]=u("h3",null,"确认删除",-1)),u("button",{class:"modal-close",onClick:k},"×")]),u("div",Ta,[u("p",null,'确定要删除字段 "'+m(null==(f=p.value)?void 0:f.fieldLabel)+'" 吗？',1),d[25]||(d[25]=u("p",{class:"warning"},"删除后，该字段的数据将无法恢复！",-1)),u("div",{class:"form-actions"},[u("button",{type:"button",class:"btn-cancel",onClick:k},"取消"),u("button",{type:"button",class:"btn-delete-confirm",onClick:T},"确认删除")])])])])):n("",!0)])}}}),[["__scopeId","data-v-c28c4202"]]),Na={class:"dynamic-table-app min-h-screen bg-gray-100 p-4"},Ra={class:"max-w-7xl mx-auto"},Ba={class:"bg-white rounded-lg shadow mb-6"},Sa={class:"flex border-b"},Oa={class:"p-4"},Ua={key:0},La={key:1},Ma=[{path:"/",redirect:"/login"},{path:"/login",component:Ve},{path:"/index",component:fe(e({__name:"index",setup(e){const r=d("data"),s=p(),o=async()=>{try{await be.logout(),localStorage.removeItem("token"),s.push("/login")}catch(e){localStorage.removeItem("token"),s.push("/login")}};return(e,s)=>(l(),a(N,null,[u("div",{class:"float-right p-4 flex justify-between items-center mb-6 top-0 right-0"},[u("div",{class:"user-info"},[s[2]||(s[2]=u("span",null,"Admin",-1)),u("button",{onClick:o,class:"ml-2 bg-red-500 text-white px-4 py-2 rounded-md shadow hover:bg-red-600 transition"},"退出登录")])]),u("div",Na,[u("div",Ra,[s[3]||(s[3]=u("header",{class:"mb-8"},[u("h1",{class:"text-2xl font-bold text-gray-800 mb-2"},"客户管理系统"),u("p",{class:"text-gray-600"},"基于动态表设计的客户信息管理平台")],-1)),u("div",Ba,[u("div",Sa,[u("button",{class:ue(["px-6 py-3 font-medium text-sm",{"border-b-2 border-blue-500 text-blue-500":"data"===r.value}]),onClick:s[0]||(s[0]=e=>r.value="data")}," 数据管理 ",2),u("button",{class:ue(["px-6 py-3 font-medium text-sm",{"border-b-2 border-blue-500 text-blue-500":"metadata"===r.value}]),onClick:s[1]||(s[1]=e=>r.value="metadata")}," 表头管理 ",2)]),u("div",Oa,["data"===r.value?(l(),a("div",Ua,[t(Ge)])):n("",!0),"metadata"===r.value?(l(),a("div",La,[t(Aa)])):n("",!0)])]),s[4]||(s[4]=u("div",{class:"bg-white rounded-lg shadow p-6"},[u("h2",{class:"text-lg font-semibold mb-4"},"系统说明"),u("div",{class:"space-y-3 text-sm text-gray-600"},[u("p",null,"• 本系统采用元数据驱动的动态表设计，可以自由增删改表头字段，无需修改数据库结构。"),u("p",null,"• 表头管理：可添加、编辑、删除和排序表字段，支持多种字段类型（文本、数字、日期、选择框等）。"),u("p",null,"• 数据管理：可对客户数据进行增删改查，支持搜索、分页和批量操作功能。"),u("p",null,"• 数据存储：表内容以JSON格式存储，确保表头变更时兼容新旧数据的查询和展示。")])],-1))])])],64))}}),[["__scopeId","data-v-82638339"]])}],Pa=ne({history:ie(),routes:Ma});Pa.beforeEach((e,a,l)=>{const t=localStorage.getItem("token");t||"/login"===e.path?t&&"/login"===e.path?l("/index"):l():l("/login")});const Da=ce(),Ka=ve(ge);Ka.use(Pa),Ka.use(Da),Ka.use(me,{locale:pe}),Ka.mount("#app");
